# ã€Windowsã€‘gitå¤šå¸å·é…ç½®

## ğŸ“” åƒå¯»ç®€ç¬”è®°ä»‹ç»

åƒå¯»ç®€ç¬”è®°å·²å¼€æºï¼ŒGiteeä¸GitHubæœç´¢`chihiro-notes`ï¼ŒåŒ…å«ç¬”è®°æºæ–‡ä»¶`.md`ï¼Œä»¥åŠPDFç‰ˆæœ¬æ–¹ä¾¿é˜…è¯»ï¼Œä¸”æ˜¯ç”¨äº†ç²¾ç¾ä¸»é¢˜ï¼Œé˜…è¯»ä½“éªŒæ›´ä½³ï¼Œå¦‚æœæ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©è¯·å¸®æˆ‘ç‚¹ä¸€ä¸ª`Star`ï½

@[toc]

## ä¸€ã€èƒŒæ™¯

ä½œä¸ºä¸€åå‡ºè‰²çš„å¼€å‘å·¥ç¨‹å¸ˆï¼Œç›®å‰äº’è”ç½‘ä»£ç æ‰˜ç®¡å¹³å°ä¼—å¤šåŒæ—¶æœ‰äº›å¹³å°å·²ä¸æ”¯æŒè´¦å·å’Œå¯†ç çš„ç›´æ¥gitbashæ“ä½œã€‚åœ¨æˆ‘ä»¬æ‰˜ç®¡å¹³å°å¤šé¡¹ç›®å¤šï¼Œæ¯”å¦‚å…¬å¸ç”¨çš„gitlabã€è€ŒåŒæ—¶ä¹Ÿå‚åŠ ä¸€äº›å¼€æºé¡¹ç›®åœ¨githubã€giteeç­‰ä»£ç æ‰˜ç®¡å¹³å°ä¸Šï¼›é‚£ä¹ˆå¦‚ä½•åˆ©ç”¨æ‰‹ä¸­çš„ä¸€å°å¼€å‘æœºï¼ŒåŒæ—¶æ”¯æŒå¤šä¸ªä»£ç æ‰˜ç®¡å¹³å°çš„ä»£ç å…å¯†è¿›è¡Œä»£ç æäº¤æ‹‰å–ç­‰æ“ä½œå‘¢ï¼Ÿè¿™ç¯‡æ–‡ç« å‘Šè¯‰ä½ ç­”æ¡ˆã€‚

## äºŒã€æ­¥éª¤

- æ¸…é™¤å…¨å±€çš„å¸å·


```sh
git config --global --unset user.name
git config --global --unset user.email
```

åœ¨ç”¨æˆ·ç›®å½•ä¸‹çš„.sshç›®å½•ä¸‹ç”Ÿæˆsshå…å¯†ç™»å½•å…¬é’¥å’Œç§é’¥

- .ssh/ç›®å½•ï¼ˆ```C:\Users\è‡ªå·±çš„ç”¨æˆ·å\.ssh```ï¼‰ä¸‹ï¼Œå³é”®Git Bash Hereï¼Œæ‰“å¼€git-bashçª—å£

```sh
ssh-keygen -t rsa -C "giteeé‚®ç®±åœ°å€" -f ~/.ssh/gitee_star_rsa
```

> -t æŒ‡å®šç”Ÿæˆrsaç±»å‹çš„ç§˜é’¥
>
> -C æŒ‡å®šè¯¥ç§˜é’¥æ³¨é‡Šä»¥ä¾¿æŸ¥é˜…
>
> -f æŒ‡å®šç”Ÿæˆç§˜é’¥çš„åå­—ï¼Œå¯ä»¥ä¸æŒ‡å®šè¯¥å‚æ•°ï¼Œé»˜è®¤å°±ä¼šç”Ÿæˆ2ä¸ªæ–‡ä»¶ï¼šç§é’¥id_rsaï¼Œå…¬é’¥id_rsa.pubã€‚ç”±äºéœ€è¦ç”Ÿæˆä¸¤å¯¹ç§é’¥å…¬é’¥ï¼Œå› æ­¤éœ€è¦æŒ‡å®š-fï¼Œå¦åˆ™ç”Ÿæˆä¸¤æ¬¡åï¼Œç§é’¥å…¬é’¥ä¼šè¦†ç›–ã€‚

æŒ‰ä¸‰æ¬¡å›è½¦åï¼ŒåŒæ ·åœ¨æ–‡ä»¶å¤¹ä¸­çœ‹åˆ°äº†ç”Ÿæˆçš„Githubç§é’¥gitlab_rsaå’Œå…¬é’¥gitlab_rsa.pub

- å°†å…¬é’¥é…ç½®åˆ°å¯¹åº”çš„gitlabè´¦å·ä¸­

**å…¬é’¥** å³.pubæ–‡ä»¶å¯ä»¥ç›´æ¥ç”¨æ–‡æœ¬æ‰“å¼€ï¼Œå†…å®¹ç²˜è´´åˆ°githubçš„Settings -> SSH and GPG keys -> New SSH Keyï¼ŒTitleéšä¾¿èµ·ï¼Œè‡ªå·±èƒ½è®¤å‡ºæ¥å³å¯ï¼ŒKeyé‡Œé¢å¡«å†™å¤åˆ¶çš„.pubé‡Œçš„å†…å®¹ï¼ŒåŒæ ·æ­¥éª¤æ“ä½œgithubå¹³å°

```sh
ssh-keygen -t rsa -C "giteeé‚®ç®±åœ°å€" -f ~/.ssh/gitee_star2_rsa
```

## ä¸‰ã€åˆ›å»ºconfigæ–‡ä»¶

- åœ¨.sshç›®å½•ä¸‹åˆ›å»ºconfig æ–‡ä»¶ï¼Œgité€šè¿‡è¿™ä¸ªæ–‡ä»¶æ‰çŸ¥é“å“ªä¸ªç§é’¥å»å¯¹åº”å“ªä¸ªå…¬é’¥ã€‚
- ç¼©è¿›ä¸€ä¸ªtableï¼Œå¦‚æœæŠ¥é”™å¯ä»¥çœ‹ä¸‹ç¼©è¿›ã€‚

```sh
Host star.gitee.com
    port 22
    User Star
    HostName gitee.com
    PreferredAuthentications publickey
    IdentityFile ~/.ssh/gitee_star_rsa

Host tianhe.gitee.com
    port 22
    User Star
    HostName gitee.com
    PreferredAuthentications publickey
    IdentityFile  ~/.ssh/gitee_tianhe_rsa
```

> configæ–‡ä»¶éƒ¨åˆ†å‚æ•°å«ä¹‰ï¼Œä»…åšè®°å½•
>
> Hostï¼šå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªä½ è¦è¯†åˆ«çš„æ¨¡å¼ï¼Œå¯¹è¯†åˆ«çš„æ¨¡å¼ï¼Œé…ç½®å¯¹åº”çš„ä¸»æœºåå’Œsshæ–‡ä»¶ã€‚ï¼ˆä¸é‡å¤å³å¯ï¼‰
>
> Portï¼šè‡ªå®šä¹‰çš„ç«¯å£ã€‚é»˜è®¤ä¸º22ï¼Œå¯ä¸é…ç½®
>
> Userï¼šè‡ªå®šä¹‰çš„ç”¨æˆ·åï¼Œé»˜è®¤ä¸ºgitï¼Œå¯ä¸é…ç½®
>
> HostNameï¼šçœŸæ­£è¿æ¥çš„æœåŠ¡å™¨åœ°å€
>
> PreferredAuthenticationsï¼šæŒ‡å®šä¼˜å…ˆä½¿ç”¨å“ªç§æ–¹å¼éªŒè¯ï¼Œæ”¯æŒå¯†ç å’Œç§˜é’¥éªŒè¯æ–¹å¼
>
> IdentityFileï¼šæŒ‡å®šæœ¬æ¬¡è¿æ¥ä½¿ç”¨çš„å¯†é’¥æ–‡ä»¶
>
> AddKeysToAgentï¼šæ˜¯å¦è‡ªåŠ¨å°† key åŠ å…¥åˆ° ssh-agentï¼Œå€¼å¯ä»¥ä¸º no(default)/confirm/ask/yesã€‚å¦‚æœæ˜¯ yesï¼Œkey å’Œå¯†ç éƒ½å°†è¯»å–æ–‡ä»¶å¹¶åŠ å…¥åˆ° agent ï¼Œå°±åƒ ssh-addã€‚å…¶ä»–äººåˆ†åˆ«æ˜¯è¯¢é—®ã€ç¡®è®¤ã€ä¸åŠ å…¥çš„æ„æ€ã€‚æ·»åŠ åˆ° ssh-agent æ„å‘³ç€å°†ç§é’¥å’Œå¯†ç äº¤ç»™å®ƒç®¡ç†ï¼Œè®©å®ƒæ¥è¿›è¡Œèº«ä»½è®¤è¯ã€‚
>
> UseKeychainï¼šsshå¯†é’¥çš„å¯†ç å­˜å‚¨åœ¨é’¥åŒ™ä¸²ä¸­

## å››ã€æµ‹è¯•ssh-keyæ˜¯å¦è¿é€š

```sh
ssh -T git@star.gitee.com
Hi yuncopy! You've successfully authenticated, but GitHub does not provide shell access.
ssh -T git@tianhe.gitee.com

```

æˆåŠŸçš„æƒ…å†µè¿”å›å¦‚ä¸Šæ‰€ç¤ºã€‚